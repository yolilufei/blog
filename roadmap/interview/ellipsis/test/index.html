<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="module" src="../index.ts"></script>
    <style>
        body {
            width: 300px;
        }
        .text {
            overflow: hidden;
            word-break: break-word;
        }
    </style>
    <script>
        setTimeout(() => {
            const d = document.querySelector('.text');
            const { fontSize, width } = getComputedStyle(d);
            const containCharCount = Math.floor(parseInt(width) / parseInt(fontSize)) * 2 - 3;
            console.log(containCharCount);
            d.innerHTML = d.innerHTML.substring(0, parseInt(containCharCount)) + '...展开';
        }, 1000);
    </script>
</head>
<body>
    <div class="text">蚂蚁的企业级产品是一个庞大且复杂的体系。这类产品不仅量级巨大且功能复杂，而且变动和并发频繁，常常需要设计与开发能够快速的做出响应。同时这类产品中有存在很多类似的页面以及组件，可以通过抽象得到一些稳定且高复用性的内容。</div>
</body>
</html>